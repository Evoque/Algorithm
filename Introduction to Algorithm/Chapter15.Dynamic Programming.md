# Dynamic Programming - 动态规划



## 15.1 钢条切割问题

**问题描述如下:**

​	给定一段长度为n英寸的钢条和一个价格表$${p}_i$$($$_i$$=1, 2, ..., n), 求切割钢条方案，使得销售收益$$r_n$$最大。 注意，如果长度为n英寸的钢条的价格$p_n$足够大，最优解可能就是完全不需要切割。

如下$p_i$样例： 

| 长度$_i$    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   |
| ----------- | :--- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 价格$$p_i$$ | 1    | 5    | 8    | 9    | 10   | 17   | 17   | 20   | 24   | 30   |

> 题目中有个隐含信息，即给定的长度`n`, 对应的价目表的长度也为`n`,  即存在$p_n$。

通过观察分析，我们把最优解转化为更一般的形式，即对于$r_n(n{\ge}1)$，我们用一个公式描述:
$$
r_n=max(p_n, r_1+r_{n-1}, r_2+r_{n-2}, ..., r_{n-1}+r_1)
$$

> 这个公式的核心是: 通过**更短**的钢条的最优切割收益来描述它；很明显，通过二分递归来转化为子问题求解。
>
> 我首次想到的解决办法是我惯性思维想出的，但是事实证明增加了复杂度：
>
> 1. 长度为`n`的钢条，有$2^{n-1}$种不同的切割方案， 所以我首先想到的是先确定出这$2^{n-1}$种切割方案；
>
> 2. 然后分别计算每个方案对应的最优解，得到`max` 即可。 
>
>    > 翻来覆去的想，这样的解法似乎没什么问题， 但是如何得出不同的切割方案时犯了难。而且，求出$2^{n-1}$种方案之后，要进行$2^{n-1}$次求值计算，指数级的时间复杂度显示是无法接受的。





## 思考

1. 数字n，有$$2^{n-1}$$种分割方式； 如`2`可拆分成`1+1, 2`两种，`3`可拆分成`1+1+1, 1+2, 2+1, 2`四种，及$$2^{n-1}$$; 那么为什么是$$2^{n-1}$$呢？

   > 自己想的解释为：
   >
   > - 当`n`为`2`时，有`1+1, 2`两种解决方案; 
   > - 那么当`n`为`3`时，`3=2+1`，转化一下， 也就是在`2`的拆分方案的子项各加一，得到两种拆分方案；
   > - 如`2`中的`1+1` => 变成`3`中的`(1+1)+1, 1+(1+1)`，即`2+1, 1+2`两种拆分方案；
   > - 所以`n`的拆分方案是在`n-1`的拆分方案的基础上`乘以2`，再去除自身不用拆分的情况，即得到结果$$2^{n-1}$$

   > 又经过了一番演算，发现上面的推导方式是不正确的。  * Evoque, 未解决